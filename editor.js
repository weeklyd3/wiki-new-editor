class markdownEditor {
    setStatus(status) {
        this.statusBar.textContent = status;
    }
    constructor(textarea, autosave = false) {
        if (textarea.tagName !== 'TEXTAREA') throw new DOMException('Textarea is not actually a textarea');
        this.textarea = textarea;
        this.makeEditor();
        this.autoSaveInterval = 5000;
        if (autosave) this.startAutoSave();
    }
    startAutoSave() {
        this.autosave = setInterval(this.doAutosave.bind(this), this.autoSaveInterval);
        console.log('autosave started');
    }
    stopAutoSave() {
        clearInterval(this.autosave);
        this.autosave = null;
    }
    doAutosave() {
        if (this.contentsAvailableForRecoveryButNotRecovered) return this.setStatus("Text already saved, aborting autosave. Press save draft to remove currently saved text");
        this.setStatus('Auto-saving value...');
        const value = this.textarea.value;
        localStorage.setItem(`markdown-editor-autosave-url-${location.href}-fieldid-${this.textarea.id}`, value);
        setTimeout(() => this.setStatus('Autosaved'), 500);
    }
    makeEditor() {
        if (this.editorMade) throw new Error("Editor already made.");
        const editordiv = document.createElement('div');
        editordiv.classList.add('markdown-editor');
        editordiv.style.fontSize = '150%';
        const toolbar = document.createElement('div');
        toolbar.classList.add('toolbar');
        const newToolbarButtons = toolbarButtons;
        if (localStorage.getItem(`markdown-editor-autosave-url-${location.href}-fieldid-${this.textarea.id}`)) {
            this.contentsAvailableForRecoveryButNotRecovered = true;
            newToolbarButtons.push({
                text: "Recover contents",
                disappearOnClick: true,
                click: function() { this.contentsAvailableForRecoveryButNotRecovered = false; this.setStatus('Recovering...'); this.textarea.value = localStorage.getItem(`markdown-editor-autosave-url-${location.href}-fieldid-${this.textarea.id}`); this.setStatus('Changes recovered'); }
            });
        }
        setTimeout(function() { newToolbarButtons.forEach(function(button) {
            const but = document.createElement('button');
            but.textContent = button.text;
            if (button.disappearOnClick) but.addEventListener('click', function() { this.parentNode.removeChild(this); });
            if (button.icon) {
                const image = document.createElement('img');
                image.alt = button.text;
                but.textContent = '';
                image.src = button.icon;
                but.title = button.text;
                image.height = getComputedStyle(toolbar).fontSize.slice(0, -2);
                but.appendChild(image);
            }
            but.classList.add('toolbar-button');
            but.addEventListener('click', button.click.bind(this));
            toolbar.appendChild(but);
        }.bind(this)); }.bind(this), 0);
        editordiv.appendChild(toolbar);
        const cloned = this.textarea.cloneNode(true);
        cloned.style.width = '100%';
        cloned.style.fontSize = 'inherit';
        cloned.rows = '10';
        cloned.style.border = '1px solid';
        cloned.style.boxSizing = 'border-box';
        const status = document.createElement('div');
        status.textContent = `Autosave disabled or currently not running`;
        status.classList.add('toolbar');
        this.statusBar = status;
        editordiv.appendChild(cloned);
        editordiv.appendChild(status);
        this.textarea.after(editordiv);
        this.textarea.parentNode.removeChild(this.textarea);
        this.textarea = cloned;
        this.editorMade = true;
        this.fullEditor = editordiv;
        this.editorToolbar = toolbar;
        return this;
    }
    isAround(before, after) {
        this.textarea.focus();
        const start = this.textarea.selectionStart;
        const end = this.textarea.selectionEnd;
        var beforeStart = start - before.length;
        if (beforeStart < 0) beforeStart = 0;
        const beforeText = this.textarea.value.slice(beforeStart, start);
        const afterText = this.textarea.value.slice(end, end + after.length);
        return beforeText === before && afterText === after;
    }
    getSelection() {
        return this.textarea.value.slice(this.textarea.selectionStart, this.textarea.selectionEnd);
    }
    surroundIfNotAlready(before, after, defaultValue = '') {
        if (!this.getSelection()) {
            this.insert(defaultValue);
            this.textarea.selectionStart -= (defaultValue.length);
        }
        if (this.isAround(before, after)) this.removeAround(before.length, after.length);
        else this.addAround(before, after);
    }
    removeAround(before, after) {
        const start = this.textarea.selectionStart;
        const end = this.textarea.selectionEnd;
        this.textarea.selectionStart = start - before;
        this.textarea.selectionEnd = start;
        this.insert("");
        this.textarea.selectionStart = end - before;
        this.textarea.selectionEnd = end + after - before;
        this.insert("");
        this.textarea.selectionStart = start - before;
        this.textarea.selectionEnd = end - before;
        return this;
    }
    addAround(before, after) {
        const start = this.textarea.selectionStart;
        const end = this.textarea.selectionEnd;
        this.textarea.selectionEnd = start;
        this.insert(before);
        this.textarea.selectionStart = end + before.length;
        this.textarea.selectionEnd = this.textarea.selectionStart;
        this.insert(after);
        this.textarea.selectionStart = start + before.length;
        this.textarea.selectionEnd = end + before.length;
        return this;
    }
    insert(text) {
        const myField = this.textarea;
        if (document.selection) {
            myField.focus();
            sel = document.selection.createRange();
            sel.text = myValue;
        }
        else if (myField.selectionStart || myField.selectionStart == '0') {
            var startPos = myField.selectionStart;
            var endPos = myField.selectionEnd;
            myField.value = myField.value.substring(0, startPos)
                + text
                + myField.value.substring(endPos, myField.value.length);
        } else {
            myField.value += text;
        }
        this.textarea.focus();
        return this;
    }
}
const toolbarButtons = [
    {
        text: "Bold",
        icon: `data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNi4zNTEwMzMybW0iCiAgIGhlaWdodD0iNy43MTUyOTFtbSIKICAgdmlld0JveD0iMCAwIDYuMzUxMDMzMiA3LjcxNTI5MSIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0ic3ZnNSIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4xLjIgKDBhMDBjZjUzMzksIDIwMjItMDItMDQpIgogICBzb2RpcG9kaTpkb2NuYW1lPSJib2xkLnN2ZyIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9Im5hbWVkdmlldzciCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZWNoZWNrZXJib2FyZD0iMCIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0ibW0iCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGZpdC1tYXJnaW4tdG9wPSIwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMCIKICAgICBmaXQtbWFyZ2luLXJpZ2h0PSIwIgogICAgIGZpdC1tYXJnaW4tYm90dG9tPSIwIgogICAgIGlua3NjYXBlOnpvb209IjcuNjQyNTA3NSIKICAgICBpbmtzY2FwZTpjeD0iMTEuNzEwODE2IgogICAgIGlua3NjYXBlOmN5PSItMTIuMzY1MDUyIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI5OTUiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiIC8+CiAgPGRlZnMKICAgICBpZD0iZGVmczIiPgogICAgPHJlY3QKICAgICAgIHg9IjY5LjUzMzYiCiAgICAgICB5PSIyMTYuNDA1MjEiCiAgICAgICB3aWR0aD0iMzg2Ljk3MjY2IgogICAgICAgaGVpZ2h0PSIyMDIuMzE0ODciCiAgICAgICBpZD0icmVjdDEzMTAiIC8+CiAgPC9kZWZzPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xOS4zNjg4NDMsLTU4LjkwNTQ0OCkiPgogICAgPGcKICAgICAgIGFyaWEtbGFiZWw9IkIiCiAgICAgICB0cmFuc2Zvcm09InNjYWxlKDAuMjY0NTgzMzMpIgogICAgICAgaWQ9InRleHQxMzA4IgogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTo0MHB4O2xpbmUtaGVpZ2h0OjEuMjU7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpzYW5zLXNlcmlmO3doaXRlLXNwYWNlOnByZTtzaGFwZS1pbnNpZGU6dXJsKCNyZWN0MTMxMCkiPgogICAgICA8cGF0aAogICAgICAgICBkPSJtIDg0Ljg4NDc2NiwyMzMuOTIzODMgcSAxLjc3NzM0MywwIDIuNjk1MzEyLC0wLjc4MTI1IDAuOTE3OTY5LC0wLjc4MTI1IDAuOTE3OTY5LC0yLjMwNDY5IDAsLTEuNTAzOTEgLTAuOTE3OTY5LC0yLjI4NTE2IC0wLjkxNzk2OSwtMC44MDA3OCAtMi42OTUzMTIsLTAuODAwNzggaCAtNC4xNjAxNTcgdiA2LjE3MTg4IHogbSAwLjI1MzkwNiwxMi43NTM5IHEgMi4yNjU2MjUsMCAzLjM5ODQzNywtMC45NTcwMyAxLjE1MjM0NCwtMC45NTcwMyAxLjE1MjM0NCwtMi44OTA2MiAwLC0xLjg5NDUzIC0xLjEzMjgxMiwtMi44MzIwMyAtMS4xMzI4MTMsLTAuOTU3MDMgLTMuNDE3OTY5LC0wLjk1NzAzIGggLTQuNDE0MDYzIHYgNy42MzY3MSB6IG0gNi45OTIxODcsLTEwLjQ4ODI4IHEgMi40MjE4NzUsMC43MDMxMyAzLjc1LDIuNTk3NjYgMS4zMjgxMjUsMS44OTQ1MyAxLjMyODEyNSw0LjY0ODQ0IDAsNC4yMTg3NSAtMi44NTE1NjIsNi4yODkwNiAtMi44NTE1NjMsMi4wNzAzMSAtOC42NzE4NzUsMi4wNzAzMSBIIDczLjIwNTA3OCB2IC0yOS4xNjAxNSBoIDExLjI4OTA2MyBxIDYuMDc0MjE4LDAgOC43ODkwNjIsMS44MzU5MyAyLjczNDM3NSwxLjgzNTk0IDIuNzM0Mzc1LDUuODc4OTEgMCwyLjEyODkxIC0wLjk5NjA5NCwzLjYzMjgxIC0wLjk5NjA5MywxLjQ4NDM4IC0yLjg5MDYyNSwyLjIwNzAzIHoiCiAgICAgICAgIHN0eWxlPSJmb250LXdlaWdodDpib2xkOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246J3NhbnMtc2VyaWYgQm9sZCciCiAgICAgICAgIGlkPSJwYXRoMjI5NiIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=`,
        click: function() { this.surroundIfNotAlready('**', '**'); }
    },
    {
        text: "Italic",
        icon: `data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iMi41NTI4MDc2bW0iCiAgIGhlaWdodD0iNy43MTUyNjY3bW0iCiAgIHZpZXdCb3g9IjAgMCAyLjU1MjgwNzYgNy43MTUyNjY3IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmcyMzQzIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIxLjEuMiAoMGEwMGNmNTMzOSwgMjAyMi0wMi0wNCkiCiAgIHNvZGlwb2RpOmRvY25hbWU9Iml0YWxpYy5zdmciCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJuYW1lZHZpZXcyMzQ1IgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VjaGVja2VyYm9hcmQ9IjAiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9Im1tIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBmaXQtbWFyZ2luLXRvcD0iMCIKICAgICBmaXQtbWFyZ2luLWxlZnQ9IjAiCiAgICAgZml0LW1hcmdpbi1yaWdodD0iMCIKICAgICBmaXQtbWFyZ2luLWJvdHRvbT0iMCIKICAgICBpbmtzY2FwZTp6b29tPSIxLjg3NTA1MzQiCiAgICAgaW5rc2NhcGU6Y3g9Ijk0LjEzMDY1IgogICAgIGlua3NjYXBlOmN5PSItNjAuNTMxNjA4IgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI5OTUiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiIC8+CiAgPGRlZnMKICAgICBpZD0iZGVmczIzNDAiIC8+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjMxODQzNSwtODQuNTcyNDM4KSI+CiAgICA8ZwogICAgICAgYXJpYS1sYWJlbD0iSSIKICAgICAgIGlkPSJ0ZXh0MjYyNiIKICAgICAgIHN0eWxlPSJmb250LXNpemU6MTAuNTgzM3B4O2xpbmUtaGVpZ2h0OjEuMjU7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpzYW5zLXNlcmlmO3N0cm9rZS13aWR0aDowLjI2NDU4MyI+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gMjcuODIyMjE1LDg0LjU3MjQzOCBoIDEuMDQ5MDI4IGwgLTEuNTAzNzc5LDcuNzE1MjY2IGggLTEuMDQ5MDI5IHoiCiAgICAgICAgIHN0eWxlPSJmb250LXN0eWxlOml0YWxpYzstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidzYW5zLXNlcmlmIEl0YWxpYyciCiAgICAgICAgIGlkPSJwYXRoMzgzMCIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=`,
        click: function() { this.surroundIfNotAlready('_', '_'); }
    },
    {
        text: "Comment",
        icon: `data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3C%21--%20Created%20with%20Inkscape%20%28http%3A%2F%2Fwww.inkscape.org%2F%29%20--%3E%0A%0A%3Csvg%0A%20%20%20width%3D%2217.559662mm%22%0A%20%20%20height%3D%2210.709947mm%22%0A%20%20%20viewBox%3D%220%200%2017.559662%2010.709947%22%0A%20%20%20version%3D%221.1%22%0A%20%20%20id%3D%22svg5%22%0A%20%20%20inkscape%3Aversion%3D%221.1.2%20%280a00cf5339%2C%202022-02-04%29%22%0A%20%20%20sodipodi%3Adocname%3D%22comment.svg%22%0A%20%20%20xmlns%3Ainkscape%3D%22http%3A%2F%2Fwww.inkscape.org%2Fnamespaces%2Finkscape%22%0A%20%20%20xmlns%3Asodipodi%3D%22http%3A%2F%2Fsodipodi.sourceforge.net%2FDTD%2Fsodipodi-0.dtd%22%0A%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%0A%20%20%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Csodipodi%3Anamedview%0A%20%20%20%20%20id%3D%22namedview7%22%0A%20%20%20%20%20pagecolor%3D%22%23ffffff%22%0A%20%20%20%20%20bordercolor%3D%22%23666666%22%0A%20%20%20%20%20borderopacity%3D%221.0%22%0A%20%20%20%20%20inkscape%3Apageshadow%3D%222%22%0A%20%20%20%20%20inkscape%3Apageopacity%3D%220.0%22%0A%20%20%20%20%20inkscape%3Apagecheckerboard%3D%220%22%0A%20%20%20%20%20inkscape%3Adocument-units%3D%22mm%22%0A%20%20%20%20%20showgrid%3D%22false%22%0A%20%20%20%20%20fit-margin-top%3D%220%22%0A%20%20%20%20%20fit-margin-left%3D%220%22%0A%20%20%20%20%20fit-margin-right%3D%220%22%0A%20%20%20%20%20fit-margin-bottom%3D%220%22%0A%20%20%20%20%20inkscape%3Azoom%3D%220.66368547%22%0A%20%20%20%20%20inkscape%3Acx%3D%22195.12255%22%0A%20%20%20%20%20inkscape%3Acy%3D%22431.68039%22%0A%20%20%20%20%20inkscape%3Awindow-width%3D%221920%22%0A%20%20%20%20%20inkscape%3Awindow-height%3D%22995%22%0A%20%20%20%20%20inkscape%3Awindow-x%3D%220%22%0A%20%20%20%20%20inkscape%3Awindow-y%3D%220%22%0A%20%20%20%20%20inkscape%3Awindow-maximized%3D%221%22%0A%20%20%20%20%20inkscape%3Acurrent-layer%3D%22layer1%22%20%2F%3E%0A%20%20%3Cdefs%0A%20%20%20%20%20id%3D%22defs2%22%20%2F%3E%0A%20%20%3Cg%0A%20%20%20%20%20inkscape%3Alabel%3D%22Layer%201%22%0A%20%20%20%20%20inkscape%3Agroupmode%3D%22layer%22%0A%20%20%20%20%20id%3D%22layer1%22%0A%20%20%20%20%20transform%3D%22translate%28-53.403406%2C-34.242926%29%22%3E%0A%20%20%20%20%3Cg%0A%20%20%20%20%20%20%20aria-label%3D%22hidden%0Atext%22%0A%20%20%20%20%20%20%20id%3D%22text1310%22%0A%20%20%20%20%20%20%20style%3D%22font-size%3A5.29167px%3Bline-height%3A1.25%3B-inkscape-font-specification%3Asans-serif%3Bstroke-width%3A0.264583%22%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%2056.165513%2C36.516691%20v%201.746664%20h%20-0.475424%20v%20-1.731161%20q%200%2C-0.410828%20-0.160197%2C-0.61495%20-0.160197%2C-0.204122%20-0.480591%2C-0.204122%20-0.38499%2C0%20-0.607198%2C0.245463%20-0.222209%2C0.245463%20-0.222209%2C0.66921%20v%201.63556%20h%20-0.478008%20v%20-4.020429%20h%200.478008%20v%201.576133%20q%200.170532%2C-0.260967%200.400492%2C-0.390158%200.232544%2C-0.129191%200.534852%2C-0.129191%200.498678%2C0%200.754476%2C0.310059%200.255799%2C0.307475%200.255799%2C0.906922%20z%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path1856%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%2057.113776%2C35.369473%20h%200.475423%20v%202.893882%20h%20-0.475423%20z%20m%200%2C-1.126547%20h%200.475423%20v%200.602031%20h%20-0.475423%20z%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path1858%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%2060.488249%2C35.808723%20v%20-1.565797%20h%200.475423%20v%204.020429%20h%20-0.475423%20v%20-0.434082%20q%20-0.149862%2C0.258382%20-0.379822%2C0.38499%20-0.227377%2C0.124023%20-0.547771%2C0.124023%20-0.524516%2C0%20-0.855245%2C-0.418579%20-0.328146%2C-0.41858%20-0.328146%2C-1.100709%200%2C-0.682129%200.328146%2C-1.100709%200.330729%2C-0.418579%200.855245%2C-0.418579%200.320394%2C0%200.547771%2C0.126607%200.22996%2C0.124024%200.379822%2C0.382406%20z%20m%20-1.620057%2C1.010275%20q%200%2C0.524516%200.214457%2C0.82424%200.217041%2C0.297139%200.594279%2C0.297139%200.377239%2C0%200.59428%2C-0.297139%200.217041%2C-0.299724%200.217041%2C-0.82424%200%2C-0.524516%20-0.217041%2C-0.821656%20-0.217041%2C-0.299723%20-0.59428%2C-0.299723%20-0.377238%2C0%20-0.594279%2C0.299723%20-0.214457%2C0.29714%20-0.214457%2C0.821656%20z%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path1860%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%2063.847219%2C35.808723%20v%20-1.565797%20h%200.475423%20v%204.020429%20h%20-0.475423%20v%20-0.434082%20q%20-0.149862%2C0.258382%20-0.379822%2C0.38499%20-0.227376%2C0.124023%20-0.547771%2C0.124023%20-0.524516%2C0%20-0.855245%2C-0.418579%20-0.328146%2C-0.41858%20-0.328146%2C-1.100709%200%2C-0.682129%200.328146%2C-1.100709%200.330729%2C-0.418579%200.855245%2C-0.418579%200.320395%2C0%200.547771%2C0.126607%200.22996%2C0.124024%200.379822%2C0.382406%20z%20m%20-1.620057%2C1.010275%20q%200%2C0.524516%200.214457%2C0.82424%200.217041%2C0.297139%200.59428%2C0.297139%200.377238%2C0%200.594279%2C-0.297139%200.217041%2C-0.299724%200.217041%2C-0.82424%200%2C-0.524516%20-0.217041%2C-0.821656%20-0.217041%2C-0.299723%20-0.594279%2C-0.299723%20-0.377239%2C0%20-0.59428%2C0.299723%20-0.214457%2C0.29714%20-0.214457%2C0.821656%20z%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path1862%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%2067.777214%2C36.697558%20v%200.232545%20h%20-2.185915%20q%200.03101%2C0.490926%200.294556%2C0.749308%200.266134%2C0.255799%200.738973%2C0.255799%200.273886%2C0%200.529684%2C-0.06718%200.258383%2C-0.06718%200.511597%2C-0.201538%20v%200.449585%20q%20-0.255798%2C0.108521%20-0.524516%2C0.165365%20-0.268717%2C0.05684%20-0.545187%2C0.05684%20-0.692464%2C0%20-1.098124%2C-0.403076%20-0.403077%2C-0.403077%20-0.403077%2C-1.090374%200%2C-0.710551%200.382406%2C-1.126547%200.38499%2C-0.418579%201.036113%2C-0.418579%200.583944%2C0%200.922425%2C0.377238%200.341065%2C0.374655%200.341065%2C1.02061%20z%20M%2067.30179%2C36.558032%20q%20-0.0052%2C-0.390157%20-0.219625%2C-0.622701%20-0.211873%2C-0.232545%20-0.563273%2C-0.232545%20-0.397909%2C0%20-0.638205%2C0.224793%20-0.237711%2C0.224793%20-0.273885%2C0.633037%20z%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path1864%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%2070.963068%2C36.516691%20v%201.746664%20h%20-0.475424%20v%20-1.731161%20q%200%2C-0.410828%20-0.160197%2C-0.61495%20-0.160197%2C-0.204122%20-0.480591%2C-0.204122%20-0.38499%2C0%20-0.607199%2C0.245463%20-0.222208%2C0.245463%20-0.222208%2C0.66921%20v%201.63556%20h%20-0.478008%20v%20-2.893882%20h%200.478008%20v%200.449586%20q%200.170532%2C-0.260967%200.400492%2C-0.390158%200.232544%2C-0.129191%200.534852%2C-0.129191%200.498678%2C0%200.754476%2C0.310059%200.255799%2C0.307475%200.255799%2C0.906922%20z%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path1866%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%2054.230229%2C41.162405%20v%200.821656%20h%200.979269%20v%200.369486%20h%20-0.979269%20v%201.570965%20q%200%2C0.353984%200.0956%2C0.454753%200.09819%2C0.100769%200.395325%2C0.100769%20h%200.488343%20v%200.397909%20h%20-0.488343%20q%20-0.550354%2C0%20-0.759644%2C-0.204122%20-0.209289%2C-0.206706%20-0.209289%2C-0.749309%20v%20-1.570965%20h%20-0.348816%20v%20-0.369486%20h%200.348816%20v%20-0.821656%20z%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path1868%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%2058.310086%2C43.312146%20v%200.232544%20h%20-2.185915%20q%200.03101%2C0.490926%200.294556%2C0.749309%200.266134%2C0.255798%200.738974%2C0.255798%200.273885%2C0%200.529683%2C-0.06718%200.258383%2C-0.06718%200.511597%2C-0.201539%20v%200.449586%20q%20-0.255798%2C0.10852%20-0.524516%2C0.165364%20-0.268717%2C0.05684%20-0.545186%2C0.05684%20-0.692465%2C0%20-1.098125%2C-0.403076%20-0.403077%2C-0.403076%20-0.403077%2C-1.090373%200%2C-0.710552%200.382406%2C-1.126547%200.38499%2C-0.41858%201.036113%2C-0.41858%200.583944%2C0%200.922425%2C0.377239%200.341065%2C0.374654%200.341065%2C1.02061%20z%20m%20-0.475424%2C-0.139527%20q%20-0.0052%2C-0.390157%20-0.219625%2C-0.622701%20-0.211873%2C-0.232544%20-0.563273%2C-0.232544%20-0.397909%2C0%20-0.638204%2C0.224792%20-0.237712%2C0.224793%20-0.273886%2C0.633037%20z%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path1870%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%2061.402922%2C41.984061%20-1.046448%2C1.408183%201.100708%2C1.485699%20H%2060.896493%20L%2060.054166%2C43.74106%2059.21184%2C44.877943%20h%20-0.56069%20l%201.123964%2C-1.514121%20-1.028362%2C-1.379761%20h%200.56069%20l%200.767395%2C1.030945%200.767396%2C-1.030945%20z%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path1872%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%2062.599232%2C41.162405%20v%200.821656%20h%200.979269%20v%200.369486%20h%20-0.979269%20v%201.570965%20q%200%2C0.353984%200.0956%2C0.454753%200.09819%2C0.100769%200.395325%2C0.100769%20h%200.488342%20v%200.397909%20h%20-0.488342%20q%20-0.550355%2C0%20-0.759644%2C-0.204122%20-0.20929%2C-0.206706%20-0.20929%2C-0.749309%20v%20-1.570965%20h%20-0.348816%20v%20-0.369486%20h%200.348816%20v%20-0.821656%20z%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path1874%22%20%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A`,
        click: function() { this.surroundIfNotAlready('<!-- ', ' -->'); }
    },
    {
        text: "Inline code",
        icon: `data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3C%21--%20Created%20with%20Inkscape%20%28http%3A%2F%2Fwww.inkscape.org%2F%29%20--%3E%0A%0A%3Csvg%0A%20%20%20width%3D%2221.848795mm%22%0A%20%20%20height%3D%227.3948975mm%22%0A%20%20%20viewBox%3D%220%200%2021.848795%207.3948975%22%0A%20%20%20version%3D%221.1%22%0A%20%20%20id%3D%22svg3876%22%0A%20%20%20inkscape%3Aversion%3D%221.1.2%20%280a00cf5339%2C%202022-02-04%29%22%0A%20%20%20sodipodi%3Adocname%3D%22code.svg%22%0A%20%20%20xmlns%3Ainkscape%3D%22http%3A%2F%2Fwww.inkscape.org%2Fnamespaces%2Finkscape%22%0A%20%20%20xmlns%3Asodipodi%3D%22http%3A%2F%2Fsodipodi.sourceforge.net%2FDTD%2Fsodipodi-0.dtd%22%0A%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%0A%20%20%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Csodipodi%3Anamedview%0A%20%20%20%20%20id%3D%22namedview3878%22%0A%20%20%20%20%20pagecolor%3D%22%23ffffff%22%0A%20%20%20%20%20bordercolor%3D%22%23666666%22%0A%20%20%20%20%20borderopacity%3D%221.0%22%0A%20%20%20%20%20inkscape%3Apageshadow%3D%222%22%0A%20%20%20%20%20inkscape%3Apageopacity%3D%220.0%22%0A%20%20%20%20%20inkscape%3Apagecheckerboard%3D%220%22%0A%20%20%20%20%20inkscape%3Adocument-units%3D%22mm%22%0A%20%20%20%20%20showgrid%3D%22false%22%0A%20%20%20%20%20fit-margin-top%3D%220%22%0A%20%20%20%20%20fit-margin-left%3D%220%22%0A%20%20%20%20%20fit-margin-right%3D%220%22%0A%20%20%20%20%20fit-margin-bottom%3D%220%22%0A%20%20%20%20%20inkscape%3Azoom%3D%222.2781531%22%0A%20%20%20%20%20inkscape%3Acx%3D%22-5.9258528%22%0A%20%20%20%20%20inkscape%3Acy%3D%2269.573901%22%0A%20%20%20%20%20inkscape%3Awindow-width%3D%221920%22%0A%20%20%20%20%20inkscape%3Awindow-height%3D%22995%22%0A%20%20%20%20%20inkscape%3Awindow-x%3D%220%22%0A%20%20%20%20%20inkscape%3Awindow-y%3D%220%22%0A%20%20%20%20%20inkscape%3Awindow-maximized%3D%221%22%0A%20%20%20%20%20inkscape%3Acurrent-layer%3D%22layer1%22%20%2F%3E%0A%20%20%3Cdefs%0A%20%20%20%20%20id%3D%22defs3873%22%3E%0A%20%20%20%20%3Crect%0A%20%20%20%20%20%20%20x%3D%229.7172823%22%0A%20%20%20%20%20%20%20y%3D%22537.2403%22%0A%20%20%20%20%20%20%20width%3D%22457.64218%22%0A%20%20%20%20%20%20%20height%3D%22301.84784%22%0A%20%20%20%20%20%20%20id%3D%22rect4423%22%20%2F%3E%0A%20%20%3C%2Fdefs%3E%0A%20%20%3Cg%0A%20%20%20%20%20inkscape%3Alabel%3D%22Layer%201%22%0A%20%20%20%20%20inkscape%3Agroupmode%3D%22layer%22%0A%20%20%20%20%20id%3D%22layer1%22%0A%20%20%20%20%20transform%3D%22translate%28-3.3873901%2C-144.2067%29%22%3E%0A%20%20%20%20%3Cg%0A%20%20%20%20%20%20%20aria-label%3D%22code%22%0A%20%20%20%20%20%20%20transform%3D%22scale%280.26458333%29%22%0A%20%20%20%20%20%20%20id%3D%22text4421%22%0A%20%20%20%20%20%20%20style%3D%22font-size%3A40px%3Bline-height%3A1.25%3B-inkscape-font-specification%3Asans-serif%3Bwhite-space%3Apre%3Bshape-inside%3Aurl%28%23rect4423%29%22%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%2028.076172%2C571.9082%20q%20-1.328125%2C0.50782%20-2.734375%2C0.74219%20-1.386719%2C0.25391%20-2.871094%2C0.25391%20-4.648437%2C0%20-7.167969%2C-2.51953%20-2.5%2C-2.51954%20-2.5%2C-7.36329%200%2C-2.32421%200.722657%2C-4.21875%200.722656%2C-1.89453%202.03125%2C-3.24218%201.308593%2C-1.34766%203.125%2C-2.07032%201.816406%2C-0.74218%204.003906%2C-0.74218%201.523437%2C0%202.851562%2C0.21484%201.328125%2C0.21484%202.539063%2C0.70313%20v%203.24218%20q%20-1.269531%2C-0.66406%20-2.597656%2C-0.95703%20-1.308594%2C-0.3125%20-2.714844%2C-0.3125%20-1.308594%2C0%20-2.480469%2C0.50781%20-1.152344%2C0.48829%20-2.03125%2C1.42579%20-0.878906%2C0.9375%20-1.386719%2C2.28515%20-0.507812%2C1.34766%20-0.507812%2C3.04688%200%2C3.55468%201.71875%2C5.33203%201.738281%2C1.75781%204.804687%2C1.75781%201.386719%2C0%202.675782%2C-0.3125%201.308593%2C-0.3125%202.519531%2C-0.9375%20z%22%0A%20%20%20%20%20%20%20%20%20style%3D%22font-family%3AConsolas%3B-inkscape-font-specification%3AConsolas%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path6272%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%2051.904297%2C562.66992%20q%200%2C2.28516%20-0.644531%2C4.19922%20-0.644532%2C1.89453%20-1.855469%2C3.26172%20-1.210938%2C1.34766%20-2.949219%2C2.10937%20-1.738281%2C0.74219%20-3.945312%2C0.74219%20-2.109375%2C0%20-3.789063%2C-0.64453%20-1.660156%2C-0.66406%20-2.832031%2C-1.93359%20-1.152344%2C-1.26953%20-1.777344%2C-3.14453%20-0.605469%2C-1.875%20-0.605469%2C-4.31641%200%2C-2.28516%200.644532%2C-4.16016%200.644531%2C-1.89453%201.855468%2C-3.24218%201.210938%2C-1.36719%202.949219%2C-2.10938%201.738281%2C-0.76172%203.945313%2C-0.76172%202.109375%2C0%203.769531%2C0.66406%201.679687%2C0.64454%202.832031%2C1.91407%201.171875%2C1.25%201.777344%2C3.125%200.625%2C1.875%200.625%2C4.29687%20z%20m%20-3.476563%2C0.15625%20q%200%2C-1.8164%20-0.410156%2C-3.16406%20-0.390625%2C-1.36719%20-1.132812%2C-2.26563%20-0.742188%2C-0.91796%20-1.816407%2C-1.36718%20-1.054687%2C-0.46875%20-2.363281%2C-0.46875%20-1.523437%2C0%20-2.617187%2C0.60547%20-1.074219%2C0.58593%20-1.777344%2C1.58203%20-0.683594%2C0.99609%20-1.015625%2C2.32422%20-0.3125%2C1.30859%20-0.3125%2C2.7539%200%2C1.81641%200.390625%2C3.1836%200.410156%2C1.36718%201.152344%2C2.28515%200.742187%2C0.89844%201.796875%2C1.36719%201.054687%2C0.44922%202.382812%2C0.44922%201.523438%2C0%202.597656%2C-0.58594%201.09375%2C-0.60547%201.777344%2C-1.60156%200.703125%2C-0.9961%201.015625%2C-2.30469%200.332031%2C-1.32812%200.332031%2C-2.79297%20z%22%0A%20%20%20%20%20%20%20%20%20style%3D%22font-family%3AConsolas%3B-inkscape-font-specification%3AConsolas%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path6274%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%2055.830078%2C563.23633%20q%200%2C-2.5%200.683594%2C-4.4336%200.683594%2C-1.95312%201.933594%2C-3.28125%201.269531%2C-1.34765%203.027343%2C-2.03125%201.777344%2C-0.70312%203.945313%2C-0.70312%200.9375%2C0%201.835937%2C0.11719%200.917969%2C0.11718%201.796875%2C0.37109%20v%20-8.24219%20h%203.417969%20v%2027.59766%20h%20-3.046875%20l%20-0.117187%2C-3.71094%20q%20-1.425782%2C2.07031%20-3.085938%2C3.06641%20-1.660156%2C0.99609%20-3.59375%2C0.99609%20-1.679687%2C0%20-2.96875%2C-0.70312%20-1.269531%2C-0.70313%20-2.128906%2C-1.97266%20-0.839844%2C-1.28906%20-1.269531%2C-3.08594%20-0.429688%2C-1.79687%20-0.429688%2C-3.98437%20z%20m%203.476563%2C-0.21485%20q%200%2C3.55469%201.035156%2C5.3125%201.054687%2C1.73829%202.96875%2C1.73829%201.289062%2C0%202.714844%2C-1.15235%201.445312%2C-1.15234%203.027343%2C-3.41797%20v%20-9.10156%20q%20-0.839843%2C-0.39062%20-1.855468%2C-0.58594%20-1.015625%2C-0.21484%20-2.011719%2C-0.21484%20-2.773438%2C0%20-4.335938%2C1.79687%20-1.542968%2C1.79688%20-1.542968%2C5.625%20z%22%0A%20%20%20%20%20%20%20%20%20style%3D%22font-family%3AConsolas%3B-inkscape-font-specification%3AConsolas%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path6276%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%2095.380859%2C561.79102%20q%200%2C0.72265%20-0.01953%2C1.21093%20-0.01953%2C0.48828%20-0.05859%2C0.91797%20H%2081.533203%20q%200%2C3.00781%201.679688%2C4.62891%201.679687%2C1.60156%204.84375%2C1.60156%200.859375%2C0%201.71875%2C-0.0586%200.859375%2C-0.0781%201.660156%2C-0.19532%200.800781%2C-0.11718%201.523437%2C-0.2539%200.742188%2C-0.15625%201.367188%2C-0.33203%20v%202.79297%20q%20-1.386719%2C0.39062%20-3.144531%2C0.625%20-1.738282%2C0.2539%20-3.613282%2C0.2539%20-2.519531%2C0%20-4.335937%2C-0.68359%20-1.816406%2C-0.6836%20-2.988281%2C-1.97266%20-1.152344%2C-1.30859%20-1.71875%2C-3.18359%20-0.546875%2C-1.89453%20-0.546875%2C-4.27735%200%2C-2.07031%200.585937%2C-3.90625%200.605469%2C-1.85546%201.738281%2C-3.24218%201.152344%2C-1.40625%202.8125%2C-2.22657%201.660157%2C-0.82031%203.769532%2C-0.82031%202.050781%2C0%203.632812%2C0.64453%201.582031%2C0.64453%202.65625%2C1.83594%201.09375%2C1.17188%201.640625%2C2.87109%200.566406%2C1.67969%200.566406%2C3.76954%20z%20m%20-3.535156%2C-0.48829%20q%200.05859%2C-1.30859%20-0.253906%2C-2.38281%20-0.3125%2C-1.09375%20-0.976563%2C-1.875%20-0.644531%2C-0.78125%20-1.621093%2C-1.21094%20-0.976563%2C-0.44921%20-2.265625%2C-0.44921%20-1.113282%2C0%20-2.03125%2C0.42968%20-0.917969%2C0.42969%20-1.582032%2C1.21094%20-0.664062%2C0.78125%20-1.074218%2C1.875%20-0.410157%2C1.09375%20-0.507813%2C2.40234%20z%22%0A%20%20%20%20%20%20%20%20%20style%3D%22font-family%3AConsolas%3B-inkscape-font-specification%3AConsolas%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path6278%22%20%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A`,
        click: function() { this.surroundIfNotAlready("`", "`"); }
    },
    {
        text: "Code block",
        icon: `data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3C%21--%20Created%20with%20Inkscape%20%28http%3A%2F%2Fwww.inkscape.org%2F%29%20--%3E%0A%0A%3Csvg%0A%20%20%20width%3D%2213.975891mm%22%0A%20%20%20height%3D%2210.402466mm%22%0A%20%20%20viewBox%3D%220%200%2013.975891%2010.402466%22%0A%20%20%20version%3D%221.1%22%0A%20%20%20id%3D%22svg5373%22%0A%20%20%20inkscape%3Aversion%3D%221.1.2%20%280a00cf5339%2C%202022-02-04%29%22%0A%20%20%20sodipodi%3Adocname%3D%22codeblock.svg%22%0A%20%20%20xmlns%3Ainkscape%3D%22http%3A%2F%2Fwww.inkscape.org%2Fnamespaces%2Finkscape%22%0A%20%20%20xmlns%3Asodipodi%3D%22http%3A%2F%2Fsodipodi.sourceforge.net%2FDTD%2Fsodipodi-0.dtd%22%0A%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%0A%20%20%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Csodipodi%3Anamedview%0A%20%20%20%20%20id%3D%22namedview5375%22%0A%20%20%20%20%20pagecolor%3D%22%23ffffff%22%0A%20%20%20%20%20bordercolor%3D%22%23666666%22%0A%20%20%20%20%20borderopacity%3D%221.0%22%0A%20%20%20%20%20inkscape%3Apageshadow%3D%222%22%0A%20%20%20%20%20inkscape%3Apageopacity%3D%220.0%22%0A%20%20%20%20%20inkscape%3Apagecheckerboard%3D%220%22%0A%20%20%20%20%20inkscape%3Adocument-units%3D%22mm%22%0A%20%20%20%20%20showgrid%3D%22false%22%0A%20%20%20%20%20fit-margin-top%3D%220%22%0A%20%20%20%20%20fit-margin-left%3D%220%22%0A%20%20%20%20%20fit-margin-right%3D%220%22%0A%20%20%20%20%20fit-margin-bottom%3D%220%22%0A%20%20%20%20%20inkscape%3Azoom%3D%221.9928726%22%0A%20%20%20%20%20inkscape%3Acx%3D%2281.540585%22%0A%20%20%20%20%20inkscape%3Acy%3D%22-51.433292%22%0A%20%20%20%20%20inkscape%3Awindow-width%3D%221920%22%0A%20%20%20%20%20inkscape%3Awindow-height%3D%22995%22%0A%20%20%20%20%20inkscape%3Awindow-x%3D%220%22%0A%20%20%20%20%20inkscape%3Awindow-y%3D%220%22%0A%20%20%20%20%20inkscape%3Awindow-maximized%3D%221%22%0A%20%20%20%20%20inkscape%3Acurrent-layer%3D%22layer1%22%20%2F%3E%0A%20%20%3Cdefs%0A%20%20%20%20%20id%3D%22defs5370%22%3E%0A%20%20%20%20%3Crect%0A%20%20%20%20%20%20%20x%3D%22181.05574%22%0A%20%20%20%20%20%20%20y%3D%22409.90921%22%0A%20%20%20%20%20%20%20width%3D%22468.46597%22%0A%20%20%20%20%20%20%20height%3D%22282.13077%22%0A%20%20%20%20%20%20%20id%3D%22rect5788%22%20%2F%3E%0A%20%20%3C%2Fdefs%3E%0A%20%20%3Cg%0A%20%20%20%20%20inkscape%3Alabel%3D%22Layer%201%22%0A%20%20%20%20%20inkscape%3Agroupmode%3D%22layer%22%0A%20%20%20%20%20id%3D%22layer1%22%0A%20%20%20%20%20transform%3D%22translate%28-48.312813%2C-109.48634%29%22%3E%0A%20%20%20%20%3Cg%0A%20%20%20%20%20%20%20aria-label%3D%22code%0Ablock%22%0A%20%20%20%20%20%20%20transform%3D%22scale%280.26458333%29%22%0A%20%20%20%20%20%20%20id%3D%22text5786%22%0A%20%20%20%20%20%20%20style%3D%22font-size%3A20px%3Bline-height%3A1.25%3B-inkscape-font-specification%3Asans-serif%3Bwhite-space%3Apre%3Bshape-inside%3Aurl%28%23rect5788%29%22%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%20190.23633%2C427.24414%20q%20-0.66406%2C0.25391%20-1.36719%2C0.37109%20-0.69336%2C0.12696%20-1.43555%2C0.12696%20-2.32422%2C0%20-3.58398%2C-1.25977%20-1.25%2C-1.25976%20-1.25%2C-3.68164%200%2C-1.16211%200.36133%2C-2.10937%200.36133%2C-0.94727%201.01562%2C-1.6211%200.6543%2C-0.67383%201.5625%2C-1.03515%200.90821%2C-0.3711%202.00196%2C-0.3711%200.76171%2C0%201.42578%2C0.10742%200.66406%2C0.10743%201.26953%2C0.35157%20v%201.62109%20q%20-0.63477%2C-0.33203%20-1.29883%2C-0.47852%20-0.6543%2C-0.15625%20-1.35742%2C-0.15625%20-0.6543%2C0%20-1.24024%2C0.25391%20-0.57617%2C0.24414%20-1.01562%2C0.71289%20-0.43945%2C0.46875%20-0.69336%2C1.14258%20-0.25391%2C0.67383%20-0.25391%2C1.52344%200%2C1.77734%200.85938%2C2.66601%200.86914%2C0.87891%202.40234%2C0.87891%200.69336%2C0%201.33789%2C-0.15625%200.6543%2C-0.15625%201.25977%2C-0.46875%20z%22%0A%20%20%20%20%20%20%20%20%20style%3D%22font-family%3AConsolas%3B-inkscape-font-specification%3AConsolas%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path6204%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%20202.15039%2C422.625%20q%200%2C1.14258%20-0.32227%2C2.09961%20-0.32226%2C0.94726%20-0.92773%2C1.63086%20-0.60547%2C0.67383%20-1.47461%2C1.05469%20-0.86914%2C0.37109%20-1.97266%2C0.37109%20-1.05468%2C0%20-1.89453%2C-0.32227%20-0.83007%2C-0.33203%20-1.41601%2C-0.96679%20-0.57617%2C-0.63477%20-0.88867%2C-1.57227%20-0.30274%2C-0.9375%20-0.30274%2C-2.1582%200%2C-1.14258%200.32227%2C-2.08008%200.32226%2C-0.94727%200.92773%2C-1.62109%200.60547%2C-0.6836%201.47461%2C-1.05469%200.86914%2C-0.38086%201.97266%2C-0.38086%201.05468%2C0%201.88476%2C0.33203%200.83985%2C0.32227%201.41602%2C0.95703%200.58594%2C0.625%200.88867%2C1.5625%200.3125%2C0.9375%200.3125%2C2.14844%20z%20m%20-1.73828%2C0.0781%20q%200%2C-0.9082%20-0.20508%2C-1.58203%20-0.19531%2C-0.68359%20-0.56641%2C-1.13281%20-0.37109%2C-0.45898%20-0.9082%2C-0.68359%20-0.52734%2C-0.23438%20-1.18164%2C-0.23438%20-0.76172%2C0%20-1.30859%2C0.30274%20-0.53711%2C0.29297%20-0.88867%2C0.79101%20-0.3418%2C0.49805%20-0.50782%2C1.16211%20-0.15625%2C0.6543%20-0.15625%2C1.37695%200%2C0.90821%200.19532%2C1.5918%200.20507%2C0.6836%200.57617%2C1.14258%200.37109%2C0.44922%200.89843%2C0.68359%200.52735%2C0.22461%201.19141%2C0.22461%200.76172%2C0%201.29883%2C-0.29297%200.54687%2C-0.30273%200.88867%2C-0.80078%200.35156%2C-0.49804%200.50781%2C-1.15234%200.16602%2C-0.66406%200.16602%2C-1.39649%20z%22%0A%20%20%20%20%20%20%20%20%20style%3D%22font-family%3AConsolas%3B-inkscape-font-specification%3AConsolas%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path6206%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%20204.11328%2C422.9082%20q%200%2C-1.25%200.3418%2C-2.21679%200.34179%2C-0.97657%200.96679%2C-1.64063%200.63477%2C-0.67383%201.51368%2C-1.01562%200.88867%2C-0.35157%201.97265%2C-0.35157%200.46875%2C0%200.91797%2C0.0586%200.45899%2C0.0586%200.89844%2C0.18554%20v%20-4.12109%20h%201.70898%20v%2013.79883%20h%20-1.52343%20l%20-0.0586%2C-1.85547%20q%20-0.71289%2C1.03516%20-1.54297%2C1.5332%20-0.83007%2C0.49805%20-1.79687%2C0.49805%20-0.83985%2C0%20-1.48438%2C-0.35156%20-0.63476%2C-0.35157%20-1.06445%2C-0.98633%20-0.41992%2C-0.64453%20-0.63477%2C-1.54297%20-0.21484%2C-0.89844%20-0.21484%2C-1.99219%20z%20m%201.73828%2C-0.10742%20q%200%2C1.77734%200.51758%2C2.65625%200.52734%2C0.86914%201.48438%2C0.86914%200.64453%2C0%201.35742%2C-0.57617%200.72265%2C-0.57617%201.51367%2C-1.70898%20v%20-4.55079%20q%20-0.41992%2C-0.19531%20-0.92774%2C-0.29296%20-0.50781%2C-0.10743%20-1.00585%2C-0.10743%20-1.38672%2C0%20-2.16797%2C0.89844%20-0.77149%2C0.89844%20-0.77149%2C2.8125%20z%22%0A%20%20%20%20%20%20%20%20%20style%3D%22font-family%3AConsolas%3B-inkscape-font-specification%3AConsolas%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path6208%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%20223.88867%2C422.18555%20q%200%2C0.36132%20-0.01%2C0.60547%20-0.01%2C0.24414%20-0.0293%2C0.45898%20h%20-6.88477%20q%200%2C1.50391%200.83985%2C2.31445%200.83984%2C0.80078%202.42187%2C0.80078%200.42969%2C0%200.85938%2C-0.0293%200.42968%2C-0.0391%200.83008%2C-0.0977%200.40039%2C-0.0586%200.76171%2C-0.12695%200.3711%2C-0.0781%200.6836%2C-0.16602%20v%201.39649%20q%20-0.69336%2C0.19531%20-1.57227%2C0.3125%20-0.86914%2C0.12695%20-1.80664%2C0.12695%20-1.25976%2C0%20-2.16797%2C-0.3418%20-0.9082%2C-0.34179%20-1.49414%2C-0.98633%20-0.57617%2C-0.65429%20-0.85937%2C-1.59179%20-0.27344%2C-0.94727%20-0.27344%2C-2.13867%200%2C-1.03516%200.29297%2C-1.95313%200.30273%2C-0.92773%200.86914%2C-1.62109%200.57617%2C-0.70313%201.40625%2C-1.11328%200.83008%2C-0.41016%201.88476%2C-0.41016%201.0254%2C0%201.81641%2C0.32227%200.79102%2C0.32226%201.32813%2C0.91796%200.54687%2C0.58594%200.82031%2C1.43555%200.2832%2C0.83984%200.2832%2C1.88477%20z%20m%20-1.76758%2C-0.24414%20q%200.0293%2C-0.6543%20-0.12695%2C-1.19141%20-0.15625%2C-0.54688%20-0.48828%2C-0.9375%20-0.32227%2C-0.39063%20-0.81055%2C-0.60547%20-0.48828%2C-0.22461%20-1.13281%2C-0.22461%20-0.55664%2C0%20-1.01563%2C0.21485%20-0.45898%2C0.21484%20-0.79101%2C0.60546%20-0.33203%2C0.39063%20-0.53711%2C0.9375%20-0.20508%2C0.54688%20-0.25391%2C1.20118%20z%22%0A%20%20%20%20%20%20%20%20%20style%3D%22font-family%3AConsolas%3B-inkscape-font-specification%3AConsolas%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path6210%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%20190.99805%2C447.86914%20q%200%2C1.2207%20-0.3418%2C2.1875%20-0.33203%2C0.95703%20-0.95703%2C1.63086%20-0.61524%2C0.66406%20-1.50391%2C1.02539%20-0.88867%2C0.35156%20-2.00195%2C0.35156%20-0.86914%2C0%20-1.77734%2C-0.16601%20-0.90821%2C-0.16602%20-1.79688%2C-0.52735%20v%20-13.22265%20h%201.69922%20v%203.79883%20l%20-0.0781%2C1.8164%20q%200.73243%2C-0.98633%201.5625%2C-1.38672%200.83985%2C-0.41015%201.79688%2C-0.41015%200.83984%2C0%201.47461%2C0.35156%200.63476%2C0.35156%201.06445%2C0.99609%200.42969%2C0.63477%200.64453%2C1.54297%200.21485%2C0.89844%200.21485%2C2.01172%20z%20m%20-1.73828%2C0.0781%20q%200%2C-0.77149%20-0.11719%2C-1.41602%20-0.10742%2C-0.64453%20-0.35156%2C-1.10352%20-0.24415%2C-0.45898%20-0.625%2C-0.71289%20-0.38086%2C-0.26367%20-0.90821%2C-0.26367%20-0.32226%2C0%20-0.65429%2C0.10742%20-0.33204%2C0.0977%20-0.69336%2C0.3418%20-0.35157%2C0.23438%20-0.75196%2C0.63477%20-0.39062%2C0.39062%20-0.83984%2C0.97656%20v%204.75586%20q%200.49805%2C0.19531%201.01562%2C0.3125%200.51758%2C0.10742%200.98633%2C0.10742%200.58594%2C0%201.11328%2C-0.18555%200.53711%2C-0.18554%200.9375%2C-0.61523%200.41016%2C-0.43945%200.64453%2C-1.15235%200.24415%2C-0.72265%200.24415%2C-1.7871%20z%22%0A%20%20%20%20%20%20%20%20%20style%3D%22font-family%3AConsolas%3B-inkscape-font-specification%3AConsolas%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path6212%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%20196.95508%2C440.54492%20h%20-2.90039%20v%20-1.39648%20h%204.61914%20v%2012.38281%20h%202.91992%20v%201.41602%20h%20-7.86133%20v%20-1.41602%20h%203.22266%20z%22%0A%20%20%20%20%20%20%20%20%20style%3D%22font-family%3AConsolas%3B-inkscape-font-specification%3AConsolas%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path6214%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%20213.14648%2C447.9668%20q%200%2C1.14257%20-0.32226%2C2.09961%20-0.32227%2C0.94726%20-0.92774%2C1.63086%20-0.60546%2C0.67382%20-1.47461%2C1.05468%20-0.86914%2C0.3711%20-1.97265%2C0.3711%20-1.05469%2C0%20-1.89453%2C-0.32227%20-0.83008%2C-0.33203%20-1.41602%2C-0.9668%20-0.57617%2C-0.63476%20-0.88867%2C-1.57226%20-0.30273%2C-0.9375%20-0.30273%2C-2.1582%200%2C-1.14258%200.32226%2C-2.08008%200.32227%2C-0.94727%200.92774%2C-1.6211%200.60546%2C-0.68359%201.4746%2C-1.05468%200.86915%2C-0.38086%201.97266%2C-0.38086%201.05469%2C0%201.88477%2C0.33203%200.83984%2C0.32226%201.41601%2C0.95703%200.58594%2C0.625%200.88867%2C1.5625%200.3125%2C0.9375%200.3125%2C2.14844%20z%20m%20-1.73828%2C0.0781%20q%200%2C-0.9082%20-0.20508%2C-1.58203%20-0.19531%2C-0.68359%20-0.5664%2C-1.13281%20-0.3711%2C-0.45899%20-0.9082%2C-0.6836%20-0.52735%2C-0.23437%20-1.18165%2C-0.23437%20-0.76171%2C0%20-1.30859%2C0.30273%20-0.53711%2C0.29297%20-0.88867%2C0.79102%20-0.3418%2C0.49805%20-0.50781%2C1.16211%20-0.15625%2C0.6543%20-0.15625%2C1.37695%200%2C0.9082%200.19531%2C1.5918%200.20508%2C0.68359%200.57617%2C1.14258%200.37109%2C0.44922%200.89844%2C0.68359%200.52734%2C0.22461%201.1914%2C0.22461%200.76172%2C0%201.29883%2C-0.29297%200.54688%2C-0.30273%200.88867%2C-0.80078%200.35157%2C-0.49805%200.50782%2C-1.15234%200.16601%2C-0.66407%200.16601%2C-1.39649%20z%22%0A%20%20%20%20%20%20%20%20%20style%3D%22font-family%3AConsolas%3B-inkscape-font-specification%3AConsolas%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path6216%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%20223.22461%2C452.58594%20q%20-0.66406%2C0.2539%20-1.36719%2C0.37109%20-0.69336%2C0.12695%20-1.43555%2C0.12695%20-2.32421%2C0%20-3.58398%2C-1.25976%20-1.25%2C-1.25977%20-1.25%2C-3.68164%200%2C-1.16211%200.36133%2C-2.10938%200.36133%2C-0.94726%201.01562%2C-1.62109%200.6543%2C-0.67383%201.5625%2C-1.03516%200.90821%2C-0.37109%202.00196%2C-0.37109%200.76172%2C0%201.42578%2C0.10742%200.66406%2C0.10742%201.26953%2C0.35156%20v%201.6211%20q%20-0.63477%2C-0.33203%20-1.29883%2C-0.47852%20-0.6543%2C-0.15625%20-1.35742%2C-0.15625%20-0.6543%2C0%20-1.24024%2C0.25391%20-0.57617%2C0.24414%20-1.01562%2C0.71289%20-0.43945%2C0.46875%20-0.69336%2C1.14258%20-0.25391%2C0.67382%20-0.25391%2C1.52343%200%2C1.77735%200.85938%2C2.66602%200.86914%2C0.87891%202.40234%2C0.87891%200.69336%2C0%201.33789%2C-0.15625%200.6543%2C-0.15625%201.25977%2C-0.46875%20z%22%0A%20%20%20%20%20%20%20%20%20style%3D%22font-family%3AConsolas%3B-inkscape-font-specification%3AConsolas%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path6218%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%0A%20%20%20%20%20%20%20%20%20d%3D%22m%20235.42187%2C452.94727%20h%20-2.33398%20l%20-4.57031%2C-5.25391%20v%205.25391%20h%20-1.69922%20v%20-13.79883%20h%201.69922%20v%208.47656%20l%204.40429%2C-4.48242%20h%202.2461%20l%20-4.59961%2C4.52148%20z%22%0A%20%20%20%20%20%20%20%20%20style%3D%22font-family%3AConsolas%3B-inkscape-font-specification%3AConsolas%22%0A%20%20%20%20%20%20%20%20%20id%3D%22path6220%22%20%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A`,
        click: function() { this.surroundIfNotAlready("```\n", "\n```"); }
    },
    {
        text: "Internal link",
        icon: `data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iMTMuMzY1NTgybW0iCiAgIGhlaWdodD0iMy43NzQ0NDAxbW0iCiAgIHZpZXdCb3g9IjAgMCAxMy4zNjU1ODIgMy43NzQ0NDAxIgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmc1IgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxkZWZzCiAgICAgaWQ9ImRlZnMyIiAvPgogIDxnCiAgICAgaWQ9ImxheWVyMSIKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjEuOTYyNzE3LC0xNjIuNzI0NjMpIj4KICAgIDxnCiAgICAgICBhcmlhLWxhYmVsPSJbW2xpbmtdXSIKICAgICAgIGlkPSJ0ZXh0MTg2IgogICAgICAgc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjQuMjMzMzNweDtmb250LWZhbWlseTonRGVqYVZ1IFNhbnMnOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246J0RlamFWdSBTYW5zIEJvbGQnO3RleHQtYWxpZ246Y2VudGVyO3RleHQtYW5jaG9yOm1pZGRsZTtzdHJva2Utd2lkdGg6MC4zNiI+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gMjEuOTYyNzE3LDE2Mi43MjQ2MyBoIDAuODc2NDMyIHYgMC4yOTU1OCBoIC0wLjQ5NjA5NCB2IDMuMTgzMjcgaCAwLjQ5NjA5NCB2IDAuMjk1NTkgaCAtMC44NzY0MzIgeiIKICAgICAgICAgc3R5bGU9ImZvbnQtd2VpZ2h0Om5vcm1hbDstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidEZWphVnUgU2Fucyc7ZmlsbDojMDAwMGZmIgogICAgICAgICBpZD0icGF0aDI4OCIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAyMy42MTQyOTUsMTYyLjcyNDYzIGggMC44NzY0MzEgdiAwLjI5NTU4IGggLTAuNDk2MDkzIHYgMy4xODMyNyBoIDAuNDk2MDkzIHYgMC4yOTU1OSBoIC0wLjg3NjQzMSB6IgogICAgICAgICBzdHlsZT0iZm9udC13ZWlnaHQ6bm9ybWFsOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246J0RlamFWdSBTYW5zJztmaWxsOiMwMDAwZmYiCiAgICAgICAgIGlkPSJwYXRoMjkwIiAvPgogICAgICA8cGF0aAogICAgICAgICBkPSJtIDI1LjMwMTAxMiwxNjIuNzI0NjMgaCAwLjM4MDMzOCB2IDMuMjE2MzMgaCAtMC4zODAzMzggeiIKICAgICAgICAgc3R5bGU9ImZvbnQtd2VpZ2h0Om5vcm1hbDstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidEZWphVnUgU2Fucyc7ZmlsbDojMDAwMGZmIgogICAgICAgICBpZD0icGF0aDI5MiIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAyNi40NzcxNjYsMTYzLjYyNTg2IGggMC4zODAzMzggdiAyLjMxNTEgaCAtMC4zODAzMzggeiBtIDAsLTAuOTAxMjMgaCAwLjM4MDMzOCB2IDAuNDgxNjIgaCAtMC4zODAzMzggeiIKICAgICAgICAgc3R5bGU9ImZvbnQtd2VpZ2h0Om5vcm1hbDstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidEZWphVnUgU2Fucyc7ZmlsbDojMDAwMGZmIgogICAgICAgICBpZD0icGF0aDI5NCIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAyOS41Nzc3NSwxNjQuNTQzNjMgdiAxLjM5NzMzIGggLTAuMzgwMzM4IHYgLTEuMzg0OTIgcSAwLC0wLjMyODY3IC0wLjEyODE1OCwtMC40OTE5NiAtMC4xMjgxNTcsLTAuMTYzMyAtMC4zODQ0NzIsLTAuMTYzMyAtMC4zMDc5OTEsMCAtMC40ODU3NTgsMC4xOTYzNyAtMC4xNzc3NjcsMC4xOTYzNyAtMC4xNzc3NjcsMC41MzUzNyB2IDEuMzA4NDQgaCAtMC4zODI0MDUgdiAtMi4zMTUxIGggMC4zODI0MDUgdiAwLjM1OTY3IHEgMC4xMzY0MjYsLTAuMjA4NzcgMC4zMjAzOTQsLTAuMzEyMTMgMC4xODYwMzUsLTAuMTAzMzUgMC40Mjc4OCwtMC4xMDMzNSAwLjM5ODk0MiwwIDAuNjAzNTgxLDAuMjQ4MDUgMC4yMDQ2MzgsMC4yNDU5OCAwLjIwNDYzOCwwLjcyNTUzIHoiCiAgICAgICAgIHN0eWxlPSJmb250LXdlaWdodDpub3JtYWw7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjonRGVqYVZ1IFNhbnMnO2ZpbGw6IzAwMDBmZiIKICAgICAgICAgaWQ9InBhdGgyOTYiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gMzAuMzIxODksMTYyLjcyNDYzIGggMC4zODI0MDUgdiAxLjg5OTYyIGwgMS4xMzQ4MTMsLTAuOTk4MzkgaCAwLjQ4NTc1OSBsIC0xLjIyNzgzMSwxLjA4MzE0IDEuMjc5NTA3LDEuMjMxOTYgSCAzMS44ODA0NSBsIC0xLjE3NjE1NSwtMS4xMzA2OCB2IDEuMTMwNjggSCAzMC4zMjE4OSBaIgogICAgICAgICBzdHlsZT0iZm9udC13ZWlnaHQ6bm9ybWFsOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246J0RlamFWdSBTYW5zJztmaWxsOiMwMDAwZmYiCiAgICAgICAgIGlkPSJwYXRoMjk4IiAvPgogICAgICA8cGF0aAogICAgICAgICBkPSJtIDMzLjY3NjcyMSwxNjIuNzI0NjMgdiAzLjc3NDQ0IGggLTAuODc2NDMyIHYgLTAuMjk1NTkgaCAwLjQ5NDAyNiB2IC0zLjE4MzI3IGggLTAuNDk0MDI2IHYgLTAuMjk1NTggeiIKICAgICAgICAgc3R5bGU9ImZvbnQtd2VpZ2h0Om5vcm1hbDstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidEZWphVnUgU2Fucyc7ZmlsbDojMDAwMGZmIgogICAgICAgICBpZD0icGF0aDMwMCIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAzNS4zMjgyOTksMTYyLjcyNDYzIHYgMy43NzQ0NCBoIC0wLjg3NjQzMiB2IC0wLjI5NTU5IGggMC40OTQwMjYgdiAtMy4xODMyNyBoIC0wLjQ5NDAyNiB2IC0wLjI5NTU4IHoiCiAgICAgICAgIHN0eWxlPSJmb250LXdlaWdodDpub3JtYWw7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjonRGVqYVZ1IFNhbnMnO2ZpbGw6IzAwMDBmZiIKICAgICAgICAgaWQ9InBhdGgzMDIiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K`,
        click: async function() {
            const href = await createAndSubmitForm.bind(this)('Insert internal link (step 1)', 'Target page:');
            if (!href) return;
            const linktext = await createAndSubmitForm.bind(this)('Insert internal link (step 2)', 'Link text', href);
            if (!linktext) return;
            if (linktext === href) this.insert(`[[${href}]]`);
            else this.insert(`[[${href}|${linktext}]]`);
            this.textarea.focus();
        }
    },
    {
        text: "External link",
        icon: `data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iOC44NDQ0MjcxbW0iCiAgIGhlaWdodD0iNC4wMjA0Mjg3bW0iCiAgIHZpZXdCb3g9IjAgMCA4Ljg0NDQyNzEgNC4wMjA0Mjg3IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmc1IgogICBpbmtzY2FwZTp2ZXJzaW9uPSIxLjEuMiAoMGEwMGNmNTMzOSwgMjAyMi0wMi0wNCkiCiAgIHNvZGlwb2RpOmRvY25hbWU9Imxpbmsuc3ZnIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0ibmFtZWR2aWV3NyIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlY2hlY2tlcmJvYXJkPSIwIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJtbSIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgZml0LW1hcmdpbi10b3A9IjAiCiAgICAgZml0LW1hcmdpbi1sZWZ0PSIwIgogICAgIGZpdC1tYXJnaW4tcmlnaHQ9IjAiCiAgICAgZml0LW1hcmdpbi1ib3R0b209IjAiCiAgICAgaW5rc2NhcGU6em9vbT0iNi40MTI4MzU0IgogICAgIGlua3NjYXBlOmN4PSI0OC41NzQ0NTciCiAgICAgaW5rc2NhcGU6Y3k9IjIwLjY2MTY4NyIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE5MjAiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iOTk1IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIiAvPgogIDxkZWZzCiAgICAgaWQ9ImRlZnMyIiAvPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMy40NjU1ODUsLTEzMy42MTUzNCkiPgogICAgPGcKICAgICAgIGFyaWEtbGFiZWw9ImxpbmsiCiAgICAgICBpZD0idGV4dDE3MzYiCiAgICAgICBzdHlsZT0iZm9udC1zaXplOjUuMjkxNjdweDtsaW5lLWhlaWdodDoxLjI1Oy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246c2Fucy1zZXJpZjtzdHJva2Utd2lkdGg6MC4yNjQ1ODMiPgogICAgICA8cGF0aAogICAgICAgICBkPSJtIDIzLjQ2NTU4NSwxMzMuNjE1MzQgaCAwLjQ3NTQyNCB2IDQuMDIwNDMgaCAtMC40NzU0MjQgeiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDBmZiIKICAgICAgICAgaWQ9InBhdGgyNzQyIiAvPgogICAgICA8cGF0aAogICAgICAgICBkPSJtIDI0LjkzNTc4MSwxMzQuNzQxODkgaCAwLjQ3NTQyMyB2IDIuODkzODggaCAtMC40NzU0MjMgeiBtIDAsLTEuMTI2NTUgaCAwLjQ3NTQyMyB2IDAuNjAyMDMgaCAtMC40NzU0MjMgeiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDBmZiIKICAgICAgICAgaWQ9InBhdGgyNzQ0IiAvPgogICAgICA8cGF0aAogICAgICAgICBkPSJtIDI4LjgxMTUxNiwxMzUuODg5MTEgdiAxLjc0NjY2IGggLTAuNDc1NDI0IHYgLTEuNzMxMTYgcSAwLC0wLjQxMDgzIC0wLjE2MDE5NywtMC42MTQ5NSAtMC4xNjAxOTcsLTAuMjA0MTIgLTAuNDgwNTkxLC0wLjIwNDEyIC0wLjM4NDk5LDAgLTAuNjA3MTk4LDAuMjQ1NDYgLTAuMjIyMjA5LDAuMjQ1NDcgLTAuMjIyMjA5LDAuNjY5MjEgdiAxLjYzNTU2IGggLTAuNDc4MDA4IHYgLTIuODkzODggaCAwLjQ3ODAwOCB2IDAuNDQ5NTkgcSAwLjE3MDUzMiwtMC4yNjA5NyAwLjQwMDQ5MiwtMC4zOTAxNiAwLjIzMjU0NCwtMC4xMjkxOSAwLjUzNDg1MiwtMC4xMjkxOSAwLjQ5ODY3OCwwIDAuNzU0NDc2LDAuMzEwMDYgMC4yNTU3OTksMC4zMDc0NyAwLjI1NTc5OSwwLjkwNjkyIHoiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwZmYiCiAgICAgICAgIGlkPSJwYXRoMjc0NiIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAyOS43NDE2OTIsMTMzLjYxNTM0IGggMC40NzgwMDcgdiAyLjM3NDU0IGwgMS40MTg1MTksLTEuMjQ3OTkgaCAwLjYwNzE5OSBsIC0xLjUzNDc5MSwxLjM1MzkyIDEuNTk5Mzg2LDEuNTM5OTYgaCAtMC42MjAxMTcgbCAtMS40NzAxOTYsLTEuNDEzMzUgdiAxLjQxMzM1IGggLTAuNDc4MDA3IHoiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwZmYiCiAgICAgICAgIGlkPSJwYXRoMjc0OCIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=`,
        click: async function() {
            const t = createAndSubmitForm.bind(this);
            const href = await t('External link (part 1)', 'Enter the target of your link');
            if (!href) return;
            const linktext = await t('External link (part 2)', 'Enter the text to be displayed', href);
            if (!linktext) return;
            if (href === linktext) return this.insert(`<${href}>`);
            else return this.insert(`[${linktext}](${href})`);
        }
    },
    {
        text: "Save draft",
        click: function() { this.contentsAvailableForRecoveryButNotRecovered = false; this.doAutosave(); }
    }
]
const editorstyle = document.createElement('style');
editorstyle.innerHTML = `.markdown-editor .toolbar .toolbar-button:hover { outline: 1px solid; background-color: yellow; } .markdown-editor .toolbar .toolbar-button { border: none; padding: 3px; font-size: inherit; background-color: transparent; margin-left: 3px; margin-right: 3px; } .markdown-editor textarea { padding: 7px; } .toolbar {padding: 3px;
    border: 1px solid black;
    background-color: lightgray;} .editor-submit-button { background-color: cyan; } .editor-form { border: 1px solid; padding: 7px; font-size: 66.666667%; }`;
document.body.appendChild(editorstyle);
function initEditor(textarea, autosave) {
    return new markdownEditor(textarea, autosave);
}
function getSubmittedValueOfFirstInputFieldInHTMLFormElement(form) {
    return new Promise(function(resolve, reject) {
        form.addEventListener('submit', function() {
            resolve(form.querySelector('input').value);
        });
        Array.from(form.querySelectorAll('.cancel')).forEach((button) => {
            button.addEventListener('click', () => resolve(null));
        });
    })
}
function createAndSubmitForm(title, value, defaultValue = '') {
    return new Promise(function(resolve) {
        Array.from(this.fullEditor.querySelectorAll('.editor-form')).forEach((el) => el.parentNode.removeChild(el));
        const toolbar = this.editorToolbar;
        const form = document.createElement('form');
        form.classList.add('editor-form');
        const h2 = document.createElement('h2');
        h2.textContent = title;
        form.appendChild(h2);
        const label = document.createElement('label');
        label.appendChild(document.createTextNode(`${value}\u00a0`));
        const input = document.createElement('input');
        input.value = defaultValue;
        input.select();
        label.appendChild(input);
        const buttons = document.createElement('div');
        const submit = document.createElement('button');
        submit.textContent = 'OK';
        submit.classList.add('editor-submit-button');
        buttons.appendChild(submit);
        buttons.appendChild(document.createTextNode(`\u00a0`));
        const cancel = document.createElement('button');
        cancel.type = 'button';
        cancel.classList.add('cancel');
        submit.classList.add('editor-cancel-button');
        cancel.textContent = 'Cancel';
        buttons.appendChild(cancel);
        form.appendChild(label);
        form.appendChild(buttons);
        toolbar.after(form);
        input.focus();
        getSubmittedValueOfFirstInputFieldInHTMLFormElement(form)
        .then(function(value) {
            form.parentNode.removeChild(form);
            resolve(value);
        });
    }.bind(this));
}